<#> warnprefix
pattern({
	##boss simp.kasen
})
phase(0)
	paction(0)
		shift-phase-to(1)

!{ power1()
sync powerup1 <> poweraura boss1
	lerp 0 1 t red pink
	orange
!}

<!> type non nest
<!> hp 1000
phase 0
	paction 0
		sync powerup1 <> poweraura boss1(lerp 0 1 t red pink, orange)
		
		async circle-*/w <> gcr2 24 _ <3> {
			bindItr loop1
		} gsr2c 2 {
			color { red green }
			bindItr loop2
			expose { f loop2 }
		} s rvelocity px (2 + sine(7p, 0.7, &loop1))
		
///
		sync powerup1 <> poweraura {
			sfx(x-powerup-1)
			color(lerp 0 1 t red pink)
			time(1.5)
			iterations(2)
			next({
				sfx(x-powerdown-1)
				color(orange)
				time(0.5)
				iterations(-1)
			})
		}

<!> type non nest
<!> hp 1000
phase 0
	paction 0
		## Not exposing loop2 produces error "The given key '0' was not present in the dictionary." after 1 second
		bullet-control persist circle-*/w restyle circle-blue/ &(> t 1, = &.loop2 0)
		
		bullet-control persist circle-green/w sm(onlyonce > t 1, 
			## Not exposing loop2 produces error "No float loop2 in bullet GCX" after 1 second
			async ellipse-orange/w <> gcr2 12 4 <> { } s tprot pxy(-2 - sine(7p, 0.7, &loop1), &loop2)
		)
	
		async circle-*/w <> gcr2 24 _ <3> {
			bindItr loop1
		} gsr2c 2 {
			color { red green }
			bindItr loop2
			expose { f loop2 }
		} s rvelocity px (2 + sine(7p, 0.7, &loop1))


